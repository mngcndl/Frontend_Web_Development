<!DOCTYPE html>
<html lang="en">
    <head>
        <title>CV</title>
        <link rel="stylesheet" href="comic_styles.css">
        <link rel="icons" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Esteban&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Palanquin:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
    </head>
    <body>
        <h1 class="name_header">Liubov Smirnova</h1>
        <div class="bio_container">
            <p class="bio_paragraph">I am a student at the Innopolis University and an iOS development enthusiast.<br />Currently studying at the School of Mobile Development by Yandex.<br />I am looking for collaboration on mobile, frontend and backend development,<br />so if you want to collaborate, do not hesitate to <a href="#contacts">reach out to me</a>.</p>
            <img class="profile_img" src="./profile_pic.jpg" alt="Image of a person">
        </div>
        <div class="projects_container">
            <h2 class="projects_header">Projects</h2>
            <ul class="projects_list">
                <li><a href="https://github.com/mngcndl/PawsomeActivities" target="_blank">Pawsome Activities (Swift)</a></li>
                <li>Rick & Morty character collection (Swift)</li>
                <li>Custom pager & MMU manager (C)</li>
                <li>Polinomial regression calculator (C++)</li>
                <li>Matrix calculator (C++)</li>
                <li>Tic-tac-toe with grpc (Python)</li> 
            </ul>
        </div>
        <div class="skills_container">
            <h2 class="skills_header">My skills</h2>
            <ul class="skills_list">
                <li>Swift</li>
                <li>Python</li>
                <li>C</li>
                <li>C++</li>
                <li>PostgreSQL</li>
                <li>Frontend web development</li>
                <li>UX/UI design</li>
            </ul>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', async () => {
                const email = 'l.smirnova@innopolis.university';
                try {
                    const params = new URLSearchParams({ email });
                    const idResponse = await fetch(`https://fwd.innopolis.university/api/hw2?${params.toString()}`);
                    
                    if (!idResponse.ok) {
                        throw new Error(`Failed to fetch comic ID: ${idResponse.statusText}`);
                    }
                    const comicId = await idResponse.json();
                    console.log('ID data:', comicId); 

                    try {
                        const comicParams = new URLSearchParams({ id: comicId });
                        console.log(comicId)
                        const comicResponse = await fetch(`https://fwd.innopolis.university/api/comic?id=${comicId.toString()}`);
                        
                        console.log(comicResponse);
                        if (!comicResponse.ok) {
                            throw new Error(`Failed to fetch comic data: ${comicResponse.statusText}`);
                        }
                        
                        const comicData = await comicResponse.json();
                        console.log('Comic data:', comicData); 

                        const comicImg = document.getElementById('comic_img');
                        const comicTitle = document.getElementById('comic_title');
                        const comicDate = document.getElementById('comic_date');

                        comicImg.src = comicData.img;
                        comicImg.alt = comicData.alt;
                        comicTitle.textContent = comicData.safe_title;
                        comicDate.textContent = new Date(comicData.year, comicData.month - 1, comicData.day).toLocaleDateString();

                    } catch (error) {
                        console.error('Error fetching comic data:', error);
                    }
                } catch (error) {
                    console.error('Error fetching comic ID:', error);
                }
            });
        </script>
        <div class="comic_container">
            <h2 class="comic_header">Random XKCD Comic</h2>
            <div class="comic_content">
                <img id="comic_img" alt="Comic Image">
                <h3 id="comic_title"></h3>
                <p id="comic_date"></p>
            </div>
        </div>
        <div id="contacts" class="contacts_container">
            <h2 class="contacts_header">Contacts</h2>
            <a id="tg-link" href="./telegram.html" class="telegram_button"><img src="./tg_icon.svg" alt="Telegram Icon" class="icon"></a>
            <a id="email" href="mailto:sldycpex@gmail.com" class="email_button"><img src="./gmail_icon.svg" alt="Gmail Icon" class="icon"></a>
            <a id="gh-link" href="https://github.com/mngcndl" target="_blank" class="github_button"><img src="./github_icon.png" alt="Github Icon" class="icon"></a>
            <a id="inst" href="./instagram.html" class="inst_button"><img src="./inst_icon.png" alt="Instagram Icon" class="icon"></a> 
        </div>            
    </body>
</html>
